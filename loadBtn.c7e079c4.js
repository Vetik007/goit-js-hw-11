function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequirea610;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequirea610=i);var s=i("gAHok"),a=i("7Y9D8"),l=i("fZKcF");const r=document.querySelector("#search-form"),c=document.querySelector(".gallery"),d=document.querySelector(".load-more"),f=document.querySelector(".gallery__text"),u=document.querySelector(".input-form"),m=new(e(l))(".gallery a",{overlayOpacity:.5,captionsData:"alt",captionDelay:250});let p="",y=1,g=0;function h(e){const t=e.map((({id:e,largeImageURL:t,webformatURL:o,tags:n,likes:i,views:s,comments:a,downloads:l})=>`\n                <a class="gallery__link" href="${t}">\n                    <div class="photo-card" id="${e}">\n                    <img src="${o}" alt="${n}" loading="lazy" />\n                    <div class="info">\n                        <p class="info-item">\n                            <b>Likes</b> ${i}\n                        </p>\n                        <p class="info-item">\n                            <b>Views</b> ${s}\n                        </p>\n                        <p class="info-item">\n                            <b>Comments</b> ${a}\n                        </p>\n                        <p class="info-item">\n                            <b>Downloads</b> ${l}\n                        </p>\n                    </div>\n                </div>\n                </a>\n      `)).join("");c.insertAdjacentHTML("beforeend",t)}r.addEventListener("submit",(async function(t){if(t.preventDefault(),y=1,p=u.value.trim(),console.log(p),c.innerHTML="",d.classList.add("is-hidden"),f.classList.add("is-hidden"),""===p)return void e(a).Notify.failure("This field cannot be empty!");try{const t=await(0,s.pixabayApi)(p,y,40);console.log(t);const o=t.data;console.log(o),g=o.hits.length,console.log("first",g),0===o.totalHits?e(a).Notify.failure("No images were found for this request, try something else."):(h(o.hits),function(t){e(a).Notify.success(`Hooray! We found ${t.totalHits} images.`)}(o),m.refresh()),o.totalHits>40&&d.classList.remove("is-hidden"),window.scrollBy({top:0,behavior:"smooth"})}catch(t){e(a).Notify.failure("Ooops...Something goes wrong")}})),d.addEventListener("click",(async function(){y+=1;try{const e=(await(0,s.pixabayApi)(p,y,40)).data,t=e.totalHits;g+=e.hits.length,h(e.hits),m.refresh(),g===t&&(d.classList.add("is-hidden"),f.classList.remove("is-hidden")),function(){const{height:e}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}()}catch(t){e(a).Notify.failure("Ooops...Something goes wrong")}}));
//# sourceMappingURL=loadBtn.c7e079c4.js.map
